<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.datacollcet.dao.V2iDataMapper" >

    <insert id="insertData">
        INSERT INTO  v2i_records (
            recv_time,
            deviceNo,
            loc_longitude,
            loc_latitude,
            speed,
            direction,
            packageSize,
            packageIndex,
            packageName,
            isEndofPackage,
            PackageNum,
            frequency,
            send_time
        ) VALUE (FROM_UNIXTIME(#{data.recv_time}/1000),
                 #{data.deviceNo},
                 #{data.longitude},
                 #{data.latitude},
                 #{data.speed},
                 #{data.direction},
                 #{data.packageSize},
                 #{data.indexNum},
                 #{data.packageName},
                 #{data.isEndofPackage},
                 #{data.packageNum},
                 #{data.frequency},
                 FROM_UNIXTIME(#{data.timeNow}/1000)
        )
    </insert>



    <insert id="insertNNFingerprint">
        INSERT INTO walkingfingerprints(
        RPID,
        SUBID,
        XAXIS,
        YAXIS,
        RSSI,
        MAG,
        CURTIME,
        MAC
        ) VALUES (
          #{rpid},
          #{subid},
          #{Xaxis},
          #{Yaxis},
          #{WiFiFeatures},
          #{magReading},
          #{timeStamp},
          #{MAC}
        )
    </insert>

</mapper>
<!--#{DATE_FORMAT(FROM_UNIXTIME(data.timeNow),'%Y-%m-%d %H:%i:%S')}-->